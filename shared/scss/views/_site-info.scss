@mixin site_status_padding {
    //padding: 24px 48px 24px 52px;
    padding: 11px 48px 11px 46px;
    .environment--browser & {
        padding: 11px 48px 11px 46px;
    }
    .environment--ios & {
        padding: 13px 48px 13px 46px;
    }
}


@mixin site_status_icons() {
    position: absolute;
    //top: 26px;
    top: 12px;
    left: 16px;

    .environment--browser & {
        top: 12px;
    }
    .environment--ios & {
        top: 15px;
    }
}

.site-info {
    margin-top: 0;

    .environment--ios & {
        > :last-child {
            padding-bottom: 18px;
        }
    }

    .list-wrapper {
        background-color: $white;
        padding: 0 24px;

        .environment--browser & {
            padding: 0 16px;
        }

        .body--theme-dark & {
            background-color: $slate;
        }

        .body--theme-dark.environment--android & {
            background-color: $black;
        }
    }

    .default-list {
        padding-bottom: 0;
    }

    .text-line-after-icon.privacy-on-off-message {
        margin-left: 2px;
    }

    .site-info--is-site-broken {
        display: inline-block;
        margin: 0 8px 0 3px;
    }

    .btn-pill {
        @include btn-pill(12px);
        margin: -2px 0 0 2px;
    }

    .link-secondary {
        @include is_disableable_link();
    }
}

.site-info__li--manage-permissions {
    margin: 5px 20px 0;

    .site-info__page-permission {
        &__icon {
            @include icon_display();
            margin-right: 8px;

            &.geolocation {
                @include cross_platform_bg_image("refresh-assets/permissions-location.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-location-light.svg");
                }
            }

            &.microphone {
                @include cross_platform_bg_image("refresh-assets/permissions-microphone.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-microphone-light.svg");
                }

                margin-top: -2px;
            }

            &.camera {
                @include cross_platform_bg_image("refresh-assets/permissions-camera.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-camera-light.svg");
                }

                width: 16px;
                height: 12px;
                margin-top: -2px;
            }

            &.popups {
                @include cross_platform_bg_image("refresh-assets/permissions-popups.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-popups-light.svg");
                }
            }

            &.externalScheme {
                @include cross_platform_bg_image("refresh-assets/permissions-externalScheme.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-externalScheme-light.svg");
                }

                margin-top: -4px;
            }

            &.notification {
                @include cross_platform_bg_image("refresh-assets/permissions-notification.svg");

                .body--theme-dark & {
                    @include cross_platform_bg_image("refresh-assets/permissions-notification-light.svg");
                }

                width: 16px;
                height: 14px;
                margin-top: -4px;
            }
        }

        label {
            display: flex;
            justify-content: space-between;
            overflow: hidden;
            padding: 16px 0;
        }

        select {
            float: right;
            max-width: 170px;
        }
    }
}

.site-info__li--trackers {
    position: relative;
    padding: 24px 44px;
    cursor: pointer;
    overflow: hidden;

    @include site_status_padding;

    @media (hover: hover) {
        &:hover {
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.05);

            .body--theme-dark & {
                background-color: $color-gray-80;
            }
        }

        &:hover, &:hover + li {
            border-color: transparent;
        }
    }

    .is-disabled & {
        @include is_disabled();
    }

    .site-info__trackers {

        .site-info__trackers-status__icon {
            @include icon_display();
            @include site_status_icons();

            &.is-blocking--true {
                @include cross_platform_bg_image("blocking--on.svg");
            }

            &.is-blocking--false {
                @include cross_platform_bg_image("blocking--off.svg");
            }
        }

        .float-right {
            max-width: 140px;
            text-align: right;
            color: $color--grey;
            line-height: 20px;

            &.is-active {
                color: $color--green;
            }
        }
    }
}

.site-info__li--key-insight {
    position: relative;
    overflow: hidden;
    padding: 5px 12px 12px;
    padding-bottom: 24px;

    .environment--browser & {
        background-color: transparent;
        padding: 5px 12px 20px;
    }

    .is-disabled & {
        @include is_disabled();
    }

    .site-info__key-insight {
        background-position: center 10px;
        background-repeat: no-repeat;
        background-size: 134px;
        padding-top: 130px;
        text-align: center;

        &--trackers-blocked {
            @include cross_platform_bg_image("refresh-assets/Shield-128.svg");
        }

        &--protections-off {
            @include cross_platform_bg_image("refresh-assets/Block-Disabled-128.svg");

            // pull the note out of the parent's padding to prevent needing to change the DOM order
            .note {
                margin-left: -12px;
                margin-right: -12px;
            }
        }

        &--no-activity {
            @include cross_platform_bg_image("refresh-assets/Counter-128.svg");
        }

        &--tracker-network {
            @include cross_platform_bg_image("refresh-assets/Network-128.svg");
        }

        &--insecure-connection {
            @include cross_platform_bg_image("refresh-assets/Unlocked-128.svg");
        }

        &--info {
            @include cross_platform_bg_image("refresh-assets/Block-Info.svg");
        }

        h1 {

            .environment--ios &,
            .environment--android & {
            }
        }

        div {
            margin-top: 8px;

            .environment--ios &,
            .environment--android & {
            }
        }
    }
}

.site-info__li--manage-allowlist {
    text-align: center;
    padding: 16px 0;

    .environment--browser & {
        padding: 10px 0;
    }

    .is-disabled & {
        @include is_disabled();
    }

    .manage-allowlist {
        .environment--browser & {
        }

        .environment--ios &,
        .environment--android & {
        }
    }
}

.site-info__protection {
    padding-right: 2.5rem;
    opacity: 1;
    margin-top: 0;

    .environment--ios & {
        padding-right: 3.5rem;
    }
}

.site-info__li--toggle {
    color: $slate;
    padding: 16px;

    .body--theme-dark & {
        color: $color--off-white;
    }

    .is-disabled & {
        @include is_disabled();
    }

    .environment--browser &.padded {
        padding: 14px 16px;
    }
}

.site-info__toggle-container {
    position: absolute;
    right: 1px;
    top: 18px;

    .environment--android & {
        right: 0;
        top: 20px;
    }

    .environment--ios & {
        right: 15px;
        top: 10px;
    }

    .environment--browser & {
        right: 18px;
        top: 15px;
    }

    .toggle-spinner {
        height: 18px;
        width: 18px;

        .environment--ios & {
            margin: 4px;
            height: 26px;
            width: 26px;
        }
    }

    .toggle-button {
        position: absolute;
        right: -2px;
        top: -1px;
    }

    .toggle-button--is-active-true {
        .toggle-button__bg {
            background-color: $color--blue;

            .environment--ios & {
                background-color: $color--icon-green;
            }
        }
    }

    .toggle-button--is-active-false {
        .toggle-button__bg {
            background-color: $color--medium-silver;
        }
    }
}

.site-info__li--https-status {
    position: relative;
    cursor: pointer;
    overflow: hidden;

    @include site_status_padding;

    @media (hover: hover) {
        &:hover {
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.05);

            .body--theme-dark & {
                background-color: $color-gray-80;
            }
        }

        &:hover, &:hover + li {
            border-color: transparent;
        }
    }

    .is-disabled & {
        @include is_disabled();
    }
}

.site-info__li--consent-managed {
    position: relative;
    @include site_status_padding;
}

.site-info__https-status__icon {
    @include icon_display();
    @include site_status_icons();

    &.is-secure, // default = secure, https
    &.is-upgraded {
        @include cross_platform_bg_image($status--good);
    }

    &.is-none,
    &.is-insecure { // none = insecure, http
        @include cross_platform_bg_image($status--bad);
    }
}

.site-info--main {
    .hero-wrapper {
        display: none;
    }

    .environment--ios & {
        .hero__close {
            display: none;
        }
    }

    .environment--ios &,
    .environment--android & {
        display: flex;
        flex-flow: column;
        height: 100%;

        .site-info__protection-wrapper {
            flex: 1;
            padding-top: 10px;
        }

        .hero-wrapper {
            display: block;
        }
    }

    .environment--browser & {
        display: flex;
        flex-direction: column;
        height: 100%;

        #email-alias-container {
            margin-top: auto;
        }
    }
}
